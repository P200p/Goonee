<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>หน้าแรกGoonee'</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap');
        
        body {
            font-family: 'Kanit', sans-serif;
            transition: all 0.3s ease;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }
        
        .icon-hover {
            transition: all 0.2s ease;
        }
        
        .icon-hover:hover {
            transform: scale(1.1);
        }
        
        .search-focus:focus {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }
        
        .bookmark-card {
            transition: all 0.3s ease;
        }
        
        .bookmark-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .weather-widget {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
        }
        
        .clock-widget {
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
        }
        
        .todo-widget {
            background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
        }
    </style>
</head>
<<<<<<< HEAD
<body class="gradient-bg min-h-screen">
    <!-- Sidebar -->
    <div id="sidebar" class="fixed left-0 top-0 h-full w-80 glass-effect sidebar-transition transform -translate-x-full lg:translate-x-0 z-50">
        <div class="p-6">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-white text-xl font-semibold">การตั้งค่า</h2>
                <button id="closeSidebar" class="lg:hidden text-white hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Theme Selection -->
            <div class="mb-6">
                <h3 class="text-white text-sm font-medium mb-3">ธีม</h3>
                <div class="grid grid-cols-3 gap-2 mb-3">
                    <button onclick="changeTheme('gradient')" class="w-full h-12 rounded-lg gradient-bg border-2 border-transparent hover:border-white"></button>
                    <button onclick="changeTheme('dark')" class="w-full h-12 rounded-lg bg-gray-900 border-2 border-transparent hover:border-white"></button>
                    <button onclick="changeTheme('light')" class="w-full h-12 rounded-lg bg-white border-2 border-transparent hover:border-gray-300"></button>
                </div>
                <div class="space-y-2">
                    <button onclick="document.getElementById('backgroundUpload').click()" class="w-full p-2 rounded-lg bg-blue-500/20 text-white hover:bg-blue-500/30 transition-colors text-sm">
                        <i class="fas fa-upload mr-2"></i>อัพโหลดรูปพื้นหลัง
                    </button>
                    <input type="file" id="backgroundUpload" accept="image/*" style="display: none;" onchange="uploadBackground(event)">
                    <button onclick="removeBackground()" class="w-full p-2 rounded-lg bg-red-500/20 text-white hover:bg-red-500/30 transition-colors text-sm">
                        <i class="fas fa-trash mr-2"></i>ลบรูปพื้นหลัง
                    </button>
                </div>
            </div></div>
            
            <!-- Icon Style -->
            <div class="mb-6">
                <h3 class="text-white text-sm font-medium mb-3">สไตล์ไอคอน</h3>
                <select id="iconStyle" onchange="changeIconStyle()" class="w-full p-2 rounded-lg bg-white/20 text-white border border-white/30">
                    <option value="rounded">มุมมน</option>
                    <option value="square">สี่เหลี่ยม</option>
                    <option value="circle">วงกลม</option>
                </select>
            </div>
            
            <!-- Widget Toggle -->
            <div class="mb-6">
                <h3 class="text-white text-sm font-medium mb-3">วิดเจ็ต</h3>
                <div class="space-y-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="weatherWidget" checked onchange="toggleWidget('weather')" class="mr-2">
                        <span class="text-white text-sm">Shark-tool</span>
                    </label>
                    <label class="flex items-center">
                        <input type="checkbox" id="clockWidget" checked onchange="toggleWidget('clock')" class="mr-2">
                        <span class="text-white text-sm">นาฬิกา</span>
                    </label>
                    <label class="flex items-center">
                        <input type="checkbox" id="todoWidget" checked onchange="toggleWidget('todo')" class="mr-2">
                        <span class="text-white text-sm">รายการสิ่งที่ต้องทำ</span>
                    </label>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div>
                <h3 class="text-white text-sm font-medium mb-3">การกระทำด่วน</h3>
                <div class="space-y-2">
                    <button onclick="resetSettings()" class="w-full p-2 rounded-lg bg-red-500/20 text-white hover:bg-red-500/30 transition-colors">
                        <i class="fas fa-undo mr-2"></i>รีเซ็ตการตั้งค่า
                    </button>
                    <button onclick="exportSettings()" class="w-full p-2 rounded-lg bg-green-500/20 text-white hover:bg-green-500/30 transition-colors">
                        <i class="fas fa-download mr-2"></i>ส่งออกการตั้งค่า
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Overlay for mobile -->
    <div id="overlay" class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden"></div>
    
    <!-- Main Content -->
    <div class="lg:ml-80 min-h-screen p-4 lg:p-8">
        <!-- Header -->
        <header class="flex items-center justify-between mb-8">
            <button id="openSidebar" class="lg:hidden text-white hover:text-gray-300">
                <i class="fas fa-bars text-xl"></i>
            </button>
            <div class="flex-1 max-w-2xl mx-auto">
                <div class="relative">
                    <input type="text" id="searchInput" placeholder="หาอะไรไม่เจอ ถาม Goonee' หรือพิมพ์ URL" 
                           class="w-full p-4 pl-12 pr-12 rounded-full glass-effect text-white placeholder-white/70 search-focus outline-none">
                    <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-white/70"></i>
                    <button onclick="performSearch()" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            <div class="hidden lg:flex items-center space-x-4">
                <span id="currentTime" class="text-white font-medium"></span>
            </div>
        </header>
        
        <!-- Widgets Row -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <!-- Weather Widget -->
            <div id="weather-widget" class="weather-widget rounded-xl p-6 text-white">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold">
                        <button onclick="launchConsole()">< Hack Mode ></button>
   <script src="https://goonee.netlify.app/loader.js"></script>
                        <h3 class="text-white">
    <script>
        // Your JavaScript code here
    </script>
</h3>
                    <i class="fas fa-sun text-2xl"></i>
                </div>
                <div class="text-3xl font-bold mb-2">28°C</div>
                <div class="text-sm opacity-90">แจ่มใส • กรุงเทพฯ</div>
            </div>
            
            <!-- Clock Widget -->
            <div id="clock-widget" class="clock-widget rounded-xl p-6 text-white">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold">เวลา</h3>
                    <i class="fas fa-clock text-2xl"></i>
                </div>
                <div id="clockTime" class="text-3xl font-bold mb-2"></div>
                <div id="clockDate" class="text-sm opacity-90"></div>
            </div>
            
            <!-- Todo Widget -->
            <div id="todo-widget" class="todo-widget rounded-xl p-6 text-white">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold">เว็บที่ต้องรำ</h3>
                    <button onclick="addTodo()" class="hover:bg-white/20 rounded-full p-1">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div id="todoList" class="space-y-2">
                    <div class="flex items-center">
                        <input type="checkbox" class="mr-2">
                        <span class="text-sm">ตรวจสอบอีเมล</span>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" class="mr-2">
                        <span class="text-sm">ประชุมทีม 2:00 PM</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bookmarks Section -->
        <div class="mb-8">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-white text-2xl font-semibold">บุ๊กมาร์ก</h2>
                <button onclick="addBookmark()" class="glass-effect text-white px-4 py-2 rounded-lg hover:bg-white/20 transition-colors">
                    <i class="fas fa-plus mr-2"></i>เพิ่มบุ๊กมาร์ก
                </button>
            </div>
            
            <div id="bookmarksGrid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                <!-- Bookmark items will be generated here -->
            </div>
        </div>
        
        <!-- Quick Links -->
        <div>
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-white text-2xl font-semibold">ลิงก์ด่วน</h2>
                <button onclick="toggleEditMode()" id="editModeBtn" class="glass-effect text-white px-4 py-2 rounded-lg hover:bg-white/20 transition-colors">
                    <i class="fas fa-edit mr-2"></i>แก้ไข
                </button>
            </div>
            <div id="quickLinksGrid" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <!-- Quick links will be rendered here -->
            </div>
        </div>
    </div>
    
    <!-- Add Bookmark Modal -->
    <div id="bookmarkModal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center p-4">
        <div class="glass-effect rounded-xl p-6 w-full max-w-md">
            <h3 class="text-white text-lg font-semibold mb-4">เพิ่มบุ๊กมาร์กใหม่</h3>
            <div class="space-y-4">
                <input type="text" id="bookmarkName" placeholder="ชื่อเว็บไซต์" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <input type="url" id="bookmarkUrl" placeholder="https://example.com" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <input type="text" id="bookmarkIcon" placeholder="ไอคอน (เช่น fas fa-star)" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <div class="flex space-x-3">
                    <button onclick="saveBookmark()" class="flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">บันทึก</button>
                    <button onclick="closeBookmarkModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors">ยกเลิก</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Quick Link Modal -->
    <div id="editQuickLinkModal" class="fixed inset-0 bg-black/50 z-50 hidden flex items-center justify-center p-4">
        <div class="glass-effect rounded-xl p-6 w-full max-w-md">
            <h3 class="text-white text-lg font-semibold mb-4">แก้ไขทางลัด</h3>
            <div class="space-y-4">
                <input type="text" id="editQuickLinkName" placeholder="ชื่อเว็บไซต์" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <input type="url" id="editQuickLinkUrl" placeholder="https://example.com" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <input type="text" id="editQuickLinkIcon" placeholder="ไอคอน (เช่น fab fa-google)" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <input type="text" id="editQuickLinkColor" placeholder="สีไอคอน (เช่น text-red-400)" class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/70 outline-none">
                <div class="flex space-x-3">
                    <button onclick="saveQuickLink()" class="flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">บันทึก</button>
                    <button onclick="closeEditQuickLinkModal()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors">ยกเลิก</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateClock();
            setInterval(updateClock, 1000);
            loadBookmarks();
            loadQuickLinks();
            loadSettings();
        });
        
        // Sidebar functionality
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const openSidebar = document.getElementById('openSidebar');
        const closeSidebar = document.getElementById('closeSidebar');
        
        openSidebar.addEventListener('click', () => {
            sidebar.classList.remove('-translate-x-full');
            overlay.classList.remove('hidden');
        });
        
        closeSidebar.addEventListener('click', () => {
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
        });
        
        overlay.addEventListener('click', () => {
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
        });
        
        // Clock functionality
        function updateClock() {
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', hour12: false };
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            
            document.getElementById('clockTime').textContent = now.toLocaleTimeString('th-TH', timeOptions);
            document.getElementById('clockDate').textContent = now.toLocaleDateString('th-TH', dateOptions);
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('th-TH', timeOptions);
        }
        
        // Search functionality
        function performSearch() {
            const query = document.getElementById('searchInput').value;
            if (query) {
                if (query.includes('.') && !query.includes(' ')) {
                    window.open('https://' + query, '_blank');
                } else {
                    window.open('https://www.google.com/search?q=' + encodeURIComponent(query), '_blank');
                }
            }
        }
        
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
        
        // Background functionality
        function uploadBackground(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageData = e.target.result;
                    localStorage.setItem('customBackground', imageData);
                    applyCustomBackground(imageData);
                    saveSettings();
                };
                reader.readAsDataURL(file);
            }
        }
        
        function applyCustomBackground(imageData) {
            document.body.style.backgroundImage = `url(${imageData})`;
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';
            document.body.style.backgroundAttachment = 'fixed';
            document.body.className = document.body.className.replace(/gradient-bg|bg-gray-900|bg-white/, '');
        }
        
        function removeBackground() {
            localStorage.removeItem('customBackground');
            document.body.style.backgroundImage = '';
            document.body.style.backgroundSize = '';
            document.body.style.backgroundPosition = '';
            document.body.style.backgroundAttachment = '';
            changeTheme('gradient'); // กลับไปใช้ธีมเริ่มต้น
        }

        // Theme functionality
        function changeTheme(theme) {
            const body = document.body;
            
            // ลบพื้นหลังรูปภาพถ้ามี
            if (!localStorage.getItem('customBackground')) {
                body.style.backgroundImage = '';
                body.style.backgroundSize = '';
                body.style.backgroundPosition = '';
                body.style.backgroundAttachment = '';
            }
            
            body.className = body.className.replace(/gradient-bg|bg-gray-900|bg-white/, '');
            
            switch(theme) {
                case 'gradient':
                    if (!localStorage.getItem('customBackground')) {
                        body.classList.add('gradient-bg');
                    }
                    break;
                case 'dark':
                    body.classList.add('bg-gray-900');
                    break;
                case 'light':
                    body.classList.add('bg-white');
                    // Change text colors for light theme
                    document.querySelectorAll('.text-white').forEach(el => {
                        el.classList.add('text-gray-800');
                    });
                    break;
            }
            saveSettings();
        }
        
        // Icon style functionality
        function changeIconStyle() {
            const style = document.getElementById('iconStyle').value;
            const icons = document.querySelectorAll('.bookmark-card');
            
            icons.forEach(icon => {
                icon.className = icon.className.replace(/rounded-xl|rounded-none|rounded-full/, '');
                switch(style) {
                    case 'rounded':
                        icon.classList.add('rounded-xl');
                        break;
                    case 'square':
                        icon.classList.add('rounded-none');
                        break;
                    case 'circle':
                        icon.classList.add('rounded-full');
                        break;
                }
            });
            saveSettings();
        }
        
        // Widget toggle functionality
        function toggleWidget(widgetName) {
            const widget = document.getElementById(widgetName + '-widget');
            const checkbox = document.getElementById(widgetName + 'Widget');
            
            if (checkbox.checked) {
                widget.style.display = 'block';
            } else {
                widget.style.display = 'none';
            }
            saveSettings();
        }
        
        // Bookmark functionality
        let bookmarks = [];
        
        function loadBookmarks() {
            const saved = localStorage.getItem('customBookmarks');
            if (saved) {
                bookmarks = JSON.parse(saved);
                renderBookmarks();
            }
        }
        
        function renderBookmarks() {
            const grid = document.getElementById('bookmarksGrid');
            grid.innerHTML = '';
            
            bookmarks.forEach((bookmark, index) => {
                const bookmarkEl = document.createElement('a');
                bookmarkEl.href = bookmark.url;
                bookmarkEl.target = '_blank';
                bookmarkEl.className = 'bookmark-card glass-effect rounded-xl p-6 text-center text-white hover:bg-white/20 transition-all relative group';
                bookmarkEl.innerHTML = `
                    <i class="${bookmark.icon} text-3xl mb-3 icon-hover"></i>
                    <div class="font-medium">${bookmark.name}</div>
                    <button onclick="removeBookmark(${index})" class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs transition-opacity">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                grid.appendChild(bookmarkEl);
            });
        }
        
        function addBookmark() {
            document.getElementById('bookmarkModal').classList.remove('hidden');
        }
        
        function closeBookmarkModal() {
            document.getElementById('bookmarkModal').classList.add('hidden');
            document.getElementById('bookmarkName').value = '';
            document.getElementById('bookmarkUrl').value = '';
            document.getElementById('bookmarkIcon').value = '';
        }
        
        function saveBookmark() {
            const name = document.getElementById('bookmarkName').value;
            const url = document.getElementById('bookmarkUrl').value;
            const icon = document.getElementById('bookmarkIcon').value || 'fas fa-globe';
            
            if (name && url) {
                bookmarks.push({ name, url, icon });
                localStorage.setItem('customBookmarks', JSON.stringify(bookmarks));
                renderBookmarks();
                closeBookmarkModal();
            }
        }
        
        function removeBookmark(index) {
            bookmarks.splice(index, 1);
            localStorage.setItem('customBookmarks', JSON.stringify(bookmarks));
            renderBookmarks();
        }
        
        // Quick Links functionality
        let quickLinks = [
            { name: 'Google', url: 'https://www.google.com', icon: 'fab fa-google', color: '' },
            { name: 'YouTube', url: 'https://www.youtube.com', icon: 'fab fa-youtube', color: 'text-red-400' },
            { name: 'Facebook', url: 'https://www.facebook.com', icon: 'fab fa-facebook', color: 'text-blue-400' },
            { name: 'GitHub', url: 'https://www.github.com', icon: 'fab fa-github', color: '' }
        ];
        let editMode = false;
        let editingIndex = -1;
        
        function loadQuickLinks() {
            const saved = localStorage.getItem('quickLinks');
            if (saved) {
                quickLinks = JSON.parse(saved);
            }
            renderQuickLinks();
        }
        
        function renderQuickLinks() {
            const grid = document.getElementById('quickLinksGrid');
            grid.innerHTML = '';
            
            quickLinks.forEach((link, index) => {
                const linkEl = document.createElement('div');
                linkEl.className = 'bookmark-card glass-effect rounded-xl p-6 text-center text-white hover:bg-white/20 transition-all relative group cursor-pointer';
                
                if (editMode) {
                    linkEl.innerHTML = `
                        <i class="${link.icon} text-3xl mb-3 icon-hover ${link.color}"></i>
                        <div class="font-medium">${link.name}</div>
                        <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center">
                            <button onclick="editQuickLink(${index})" class="bg-blue-500 text-white px-3 py-1 rounded mr-2 text-sm">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteQuickLink(${index})" class="bg-red-500 text-white px-3 py-1 rounded text-sm">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                } else {
                    linkEl.innerHTML = `
                        <i class="${link.icon} text-3xl mb-3 icon-hover ${link.color}"></i>
                        <div class="font-medium">${link.name}</div>
                    `;
                    linkEl.onclick = () => window.open(link.url, '_blank');
                }
                
                grid.appendChild(linkEl);
            });
            
            if (editMode) {
                // เพิ่มปุ่มเพิ่มทางลัดใหม่
                const addButton = document.createElement('div');
                addButton.className = 'bookmark-card glass-effect rounded-xl p-6 text-center text-white hover:bg-white/20 transition-all cursor-pointer border-2 border-dashed border-white/50';
                addButton.innerHTML = `
                    <i class="fas fa-plus text-3xl mb-3"></i>
                    <div class="font-medium">เพิ่มทางลัด</div>
                `;
                addButton.onclick = () => addNewQuickLink();
                grid.appendChild(addButton);
            }
        }
        
        function toggleEditMode() {
            editMode = !editMode;
            const btn = document.getElementById('editModeBtn');
            if (editMode) {
                btn.innerHTML = '<i class="fas fa-check mr-2"></i>เสร็จสิ้น';
                btn.classList.add('bg-green-500/20');
            } else {
                btn.innerHTML = '<i class="fas fa-edit mr-2"></i>แก้ไข';
                btn.classList.remove('bg-green-500/20');
            }
            renderQuickLinks();
        }
        
        function editQuickLink(index) {
            editingIndex = index;
            const link = quickLinks[index];
            document.getElementById('editQuickLinkName').value = link.name;
            document.getElementById('editQuickLinkUrl').value = link.url;
            document.getElementById('editQuickLinkIcon').value = link.icon;
            document.getElementById('editQuickLinkColor').value = link.color;
            document.getElementById('editQuickLinkModal').classList.remove('hidden');
        }
        
        function addNewQuickLink() {
            editingIndex = -1;
            document.getElementById('editQuickLinkName').value = '';
            document.getElementById('editQuickLinkUrl').value = '';
            document.getElementById('editQuickLinkIcon').value = '';
            document.getElementById('editQuickLinkColor').value = '';
            document.getElementById('editQuickLinkModal').classList.remove('hidden');
        }
        
        function saveQuickLink() {
            const name = document.getElementById('editQuickLinkName').value;
            const url = document.getElementById('editQuickLinkUrl').value;
            const icon = document.getElementById('editQuickLinkIcon').value || 'fas fa-globe';
            const color = document.getElementById('editQuickLinkColor').value || '';
            
            if (name && url) {
                const linkData = { name, url, icon, color };
                
                if (editingIndex >= 0) {
                    quickLinks[editingIndex] = linkData;
                } else {
                    quickLinks.push(linkData);
                }
                
                localStorage.setItem('quickLinks', JSON.stringify(quickLinks));
                renderQuickLinks();
                closeEditQuickLinkModal();
            }
        }
        
        function deleteQuickLink(index) {
            if (confirm('คุณต้องการลบทางลัดนี้หรือไม่?')) {
                quickLinks.splice(index, 1);
                localStorage.setItem('quickLinks', JSON.stringify(quickLinks));
                renderQuickLinks();
            }
        }
        
        function closeEditQuickLinkModal() {
            document.getElementById('editQuickLinkModal').classList.add('hidden');
        }

        // Todo functionality
        function addTodo() {
            const todoText = prompt('เพิ่มสิ่งที่ต้องทำ:');
            if (todoText) {
                const todoList = document.getElementById('todoList');
                const todoItem = document.createElement('div');
                todoItem.className = 'flex items-center';
                todoItem.innerHTML = `
                    <input type="checkbox" class="mr-2">
                    <span class="text-sm">${todoText}</span>
                `;
                todoList.appendChild(todoItem);
            }
        }
        
        // Settings functionality
        function saveSettings() {
            const settings = {
                theme: document.body.className.includes('gradient-bg') ? 'gradient' : 
                       document.body.className.includes('bg-gray-900') ? 'dark' : 'light',
                iconStyle: document.getElementById('iconStyle').value,
                widgets: {
                    weather: document.getElementById('weatherWidget').checked,
                    clock: document.getElementById('clockWidget').checked,
                    todo: document.getElementById('todoWidget').checked
                },
                hasCustomBackground: !!localStorage.getItem('customBackground')
            };
            localStorage.setItem('browserSettings', JSON.stringify(settings));
        }
        
        function loadSettings() {
            // โหลดพื้นหลังที่กำหนดเอง
            const customBg = localStorage.getItem('customBackground');
            if (customBg) {
                applyCustomBackground(customBg);
            }
            
            const saved = localStorage.getItem('browserSettings');
            if (saved) {
                const settings = JSON.parse(saved);
                
                // ถ้าไม่มีพื้นหลังที่กำหนดเอง ให้ใช้ธีม
                if (!customBg) {
                    changeTheme(settings.theme);
                }
                
                if (document.getElementById('iconStyle')) {
                    document.getElementById('iconStyle').value = settings.iconStyle || 'rounded';
                    changeIconStyle();
                }
                
                if (settings.widgets) {
                    Object.keys(settings.widgets).forEach(widget => {
                        const checkbox = document.getElementById(widget + 'Widget');
                        if (checkbox) {
                            checkbox.checked = settings.widgets[widget];
                            toggleWidget(widget);
                        }
                    });
                }
            }
        }
        
        function resetSettings() {
            localStorage.removeItem('browserSettings');
            localStorage.removeItem('customBookmarks');
            localStorage.removeItem('quickLinks');
            localStorage.removeItem('customBackground');
            location.reload();
        }
        
        function exportSettings() {
            const settings = {
                browserSettings: localStorage.getItem('browserSettings'),
                customBookmarks: localStorage.getItem('customBookmarks'),
                quickLinks: localStorage.getItem('quickLinks'),
                customBackground: localStorage.getItem('customBackground')
            };
            const blob = new Blob([JSON.stringify(settings, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'browser-homepage-settings.json';
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'971cad6f328f4ba1',t:'MTc1NTYzODI0NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
<!DOCTYPE html>
=======
<body>
  <div class="wrap">
    <button class="btn" onclick="launchConsole()">ทดสอบ</button>
<div style="background:#111;color:#0f0;padding:1em;border-radius:8px;font-family:monospace;position:relative;">
  <div style="margin-bottom:0.5em;">🧪 ทดสอบ</div>
  <div style="margin-bottom:0.5em;">คัดลอกโค้ดนี้เพื่อนำไปใช้:</div>
  <textarea id="spellCode" readonly style="width:100%;height:4em;background:#000;color:#0f0;border:none;padding:0.5em;border-radius:4px;">
javascript:(function(){var s=document.createElement('script');s.src='https://goonee.netlify.app/loader.js?t='+Date.now();s.onload=function(){toggleConsole();};document.body.appendChild(s);})();
  </textarea>
  <button onclick="navigator.clipboard.writeText(document.getElementById('spellCode').value)" style="margin-top:0.5em;background:#0f0;color:#000;border:none;padding:0.5em 1em;border-radius:4px;cursor:pointer;">
    🔮 คัดลอกเวท
  </button>
  <div style="margin-top:1em;">
    <a href="https://sharkkadaw.netlify.app/" target="_blank" style="color:#0f0;text-decoration:underline;">คู่มืออยู่นี่</a>
  </div>
</div>

  </div>
  <script src="loader.js"></script>
</body>
</html>
>>>>>>> 68c1f629ba304439f8d366786d66e3ab5c4a2b0f
